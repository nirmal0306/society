<nav class="nav">
  <div class="logo-container">
    <img src="logo.jpg" class="logo-img" alt="Logo">
    <span class="logo-text">My Gate</span>
  </div>

  <ul class="nav-links">
    <li><a routerLink="/admin-home">Home</a></li>
    <li><a routerLink="/admin-about">About</a></li>

    <li class="dropdown">
      <a>Services</a>
      <ul class="dropdown-menu">
        <!-- Residents -->
        <li class="dropdown-sub">
          <a>Residents</a>
          <ul class="dropdown-submenu">
            <li><a routerLink="/add-resident">Add Resident</a></li>
            <li><a routerLink="/list-residents">List Residents</a></li>
          </ul>
        </li>

        <!-- Security -->
        <li class="dropdown-sub">
          <a>Security</a>
          <ul class="dropdown-submenu">
            <li><a routerLink="/add-security">Add Security</a></li>
            <li><a routerLink="/list-securities">List Security</a></li>
          </ul>
        </li>

        <!-- Visitors -->
        <li class="dropdown-sub">
          <a>Visitors</a>
          <ul class="dropdown-submenu">
            <li><a routerLink="/list-visitors">List Visitors</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a (click)="logout()">Logout</a></li>
  </ul>
</nav>

<section class="hero">
  <div class="hero-content">
    <h1 class="hero-title">Visitors List</h1>

    <div *ngIf="loading">Loading visitors...</div>

    <table *ngIf="!loading && visitors.length" class="resident-table">
      <thead>
        <tr>
          <th>Photo</th>
          <th>Name</th>
          <th>Email</th>
          <th>Mobile</th>
          <th>Purpose</th>
          <th>Visited Resident</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let visitor of visitors">
          <td>
            <img
              *ngIf="visitor.photo"
              [src]="'http://localhost:5000' + visitor.photo"
              alt="Photo"
              class="resident-photo">
            <span *ngIf="!visitor.photo">No Photo</span>
          </td>
          <td>{{ visitor.name }}</td>
          <td>{{ visitor.email }}</td>
          <td>{{ visitor.mobile }}</td>
          <td>{{ visitor.purpose }}</td>
          <td>{{ visitor.visitedResident }}</td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="!loading && !visitors.length">No visitors found.</div>
  </div>
</section>
